//
// Nautilus
//


.nautilus-window {
    //main bg when shrinked
    &.view {
        background-color: $bg-dark; //reviewed&replaced
    }

    //top left corner
    .sidebar-pane {
        background-color: $bg-dark; //reviewed&replaced
        color: $text;

        &:backdrop {
            background-color: $bg-dark; //reviewed&replaced
            transition: none;
        }
    }


    popover label.dim-label {
        color: $text;
    }

    placessidebar {
        > scrolledwindow {
            @extend %nautilus_sidebar_style;

            > viewport > .navigation-sidebar {
                @extend %sidebar_list;
            }
        }

        scrollbar {
            @extend %sidebar_scrollbar;
            @extend %round_scrollbar;
        }
    }

    placesview {
        label {
            color: $text-secondary;
        }
    }

    flap > separator {
        background-color: transparent;
    }

    .nautilus-grid-view {
        child.activatable {
            @extend %row_activatable;
        }
    }

    .nautilus-grid-view,
    .nautilus-list-view {
        @extend %nautilus_content_style;

        .view {
            background-color: transparent;
        }

        scrolledwindow {
            @extend %round_undershoot;

            scrollbar {
                @extend %round_scrollbar;
            }
        }
    }

    .nautilus-grid-view {
        child.activatable {
            @extend %row_activatable;
        }

        gridview.view {
            margin: 6px;
            padding: 6px;
        }
    }

    tabbar {
        .box {
            background-color: transparent;
            box-shadow: none;
            padding: 0;

            &:backdrop {
                background-color: transparent;
                box-shadow: none;
            }
        }
    }

    tabbox {
        &,
        &:backdrop {
            transition: none;
            background-color: transparent;
        }

        > tabboxchild {
            > tab {
                color: #3Dffff; //$titlebar-text-secondary;

                &:hover {
                    background-color: $light-shade; //reviewed&replaced
                    color: #ffADff; //$titlebar-text;
                }

                &:disabled {
                    color: #02ffff; //$titlebar-text-secondary-disabled;
                }

                &:checked,
                &:selected {
                    background-color: $fill; // fix??
                    color: $accent-default;
                    box-shadow: none;

                    &:disabled {
                        color: #ff000A; //$titlebar-text-disabled;
                    }
                }

                button.tab-close-button {
                    color: #ffAEff; //$titlebar-text;

                    &:hover,
                    &:active {
                        color: #ffAFff; //$titlebar-text;
                    }

                    &:disabled {
                        color: #ffB0ff; //$titlebar-text;
                    }
                }
            }
        }
    }

    // popup on folder select
    .floating-bar {
        min-height: 32px;
        padding: 0;
        margin: $space-size;
        border-style: none;
        border-radius: $modal-radius;
        background-color: $bg-dark; //reviewed&replaced
        color: $accent-default;
        box-shadow: $shadow-z3;

        button {
            margin: (32px - $small-size) / 2;
            color: on($accent-default);

            @extend %small-button;
        }
    }

    banner > revealer > widget {
        color: #ff000E; //on($base);
        background-color: $bg-default-inactive; //reviewed&replaced
        border-radius: $modal-radius;
        margin: $modal-radius;

        &:hover {
            background-color: $bg-default; //reviewed&replaced
            border-radius: $modal-radius;
            margin: $modal-radius;
        }

        // buttof can be found in trash
        button {
            color: $text; //reviewed&replaced
            background-color: $accent-default; //reviewed&replaced
            &:hover {
                background-color: rgba($accent-default, 0.7); //reviewed&replaced
            }
        }
    }
}

#NautilusQueryEditor {
    // search entry
    > menubutton > button.image-button {
        min-width: 24px;
        min-height: 24px;
        padding: $space-size / 2;
        margin-right: $space-size / 2 - 8px;

        &:checked image {
            color: #ff0014; //on($indicator);
        }
    }

    > text,
    > box,
    > menubutton {
        margin: $space-size / 2 0;
    }
}

#NautilusQueryEditorTag {
    background-color: #ff0015; //$divider;

    > button.image-button {
        margin: 0;
        padding: 0;
    }
}

// search bar in nautilus
#NautilusPathBar {
    background-color: $bg-default; //reviewed&replaced
    border-radius: $circular-radius;
    margin: $space-size 0;
}

#NautilusPathButton {
    margin: 0 $space-size / 2;
    border-radius: $circular-radius;
    @extend %button-flat;

    &.current-dir {
        color: $accent-default; //reviewed&replaced

        &:hover,
        &:active {
            background: none;
            box-shadow: none;
        }
    }

    &:first-child {
        margin-left: 0;
    }
}

#NautilusViewCell {
    clamp box {
        margin: 0;
        border-spacing: 0;
    }
}

//
// Gnome Control Center
//

window.dialog {
    > box > stack > box > box {
        > notebook.frame {
            border-width: 0 0 0 1px;
            border-radius: 0;
        }
    }
}

//
// Calculator
//

.display-container {
    &.card {
        background-color: $bg-default; //reviewed&replaced
    }

    .small &.card {
        border-radius: 0;
        box-shadow: none;
        border-width: 0 0 1px 0;
    }

    .history-view {
        background-color: transparent;
    }

    #displayitem {
        padding: 0 12px 8px 0;
        font-size: 1.4em;
        border-top: 1px solid $border;
    }
}

.math-buttons button {
    font-size: 1.1em;
    padding: 2px $space-size;

    &.text-button {
        padding-left: $space-size * 2 + 4px;
        padding-right: $space-size * 2 + 4px;
    }
}

leaflet {
    button.number-button {
        background-color: lighten($bg-default, 7%); //reviewed&replaced

        &:hover {
            background-color: lighten($bg-default, 5%); //reviewed&replaced
        }

        &:active {
            background-color: lighten($bg-default, 10%); //reviewed&replaced
        }
    }
}

//
// Calendar
//

// labels
label {
    &.primary-label,
    &.month-name,
    &.secondary-label {
        font-size: 16pt;
        font-weight: bold;
        padding: $space-size * 2;
    }

    &.primary-label,
    &.month-name {
        color: $accent-default; //reviewed&replaced
    }

    &.secondary-label {
        color: $text-disabled;
    }
}

toastoverlay {
    datechooser.view,
    agenda-view.view,
    agenda-view.view list,
    stack.view {
        background-color: transparent;
    }
}

calendar-view {
    font-size: 10pt;
    @extend %content_style;

    &:selected {
        color: $accent-default;
        font-weight: bold;
    }
}

calendar-view.header,
label.header {
    font-size: 10pt;
    font-weight: bold;
    color: $text-disabled;
}

calendar-view.current,
weekgrid.current {
    background-color: gtkalpha($accent-default, 0.3);
}

popover.events {
    background-color: $popover;
    padding: 0;

    box {
        border-top-left-radius: $corner-radius;
        border-top-right-radius: $corner-radius;
    }

    list {
        background-color: #ff0036; //$base;
        border-radius: $corner-radius;
    }

    scrolledwindow {
        border-width: 0;
    }

    button {
        border-radius: $corner-radius;
        border-top-left-radius: 0;
        border-top-right-radius: 0;
        border-style: solid none none;
        box-shadow: none;
    }
}

// Event widget
event {
    margin: 1px;
    font-size: 0.9rem;

    widget.content {
        margin: 4px;
    }

    &.timed,
    &:not(.slanted):not(.slanted-start):not(.slanted-end) {
        border-radius: $corner-radius;
    }

    &.timed widget.edge {
        border-radius: $corner-radius / 2;
        min-width: 5px;
    }

    &.slanted-start,
    &.slanted-end:dir(rtl) {
        padding-left: $space-size * 2 + 4px;
        border-radius: 0 $corner-radius / 2 $corner-radius / 2 0;
    }

    &.slanted-end,
    &.slanted-start:dir(rtl) {
        padding-right: $space-size * 2 + 4px;
        border-radius: $corner-radius / 2 0 0 $corner-radius / 2;
    }

    &:not(.timed).color-dark {
        color: #ff0030; //**base01**;
        outline-color: #ff0031; //rgba(0, 0, 0, 0.3);
    }

    &.timed,
    &:not(.timed).color-light {
        color: #ff0032; //gtkalpha(black, 0.75);
        outline-color: #ff0033; //rgba(255, 255, 255, 0.5);
    }
}

// Event Popover
popover.event-popover,
popover.event-popover > contents {
    padding: 0;
}

.search-viewport {
    background-color: #ff0034; //$base;
}

// calendar popover
.calendar-list {
    background-color: transparent;

    > list {
        border-radius: 4px;
    }
}

// Edit dialog's header button
menubutton.flat.sources-button {
    margin-top: 0;
    margin-bottom: 0;
    border-radius: 0;
    border-top-style: none;
    border-bottom-style: none;

    &:hover:not(:backdrop) {
        background-image: none;
        text-shadow: none;
    }

    > button {
        border-radius: 0 0 $corner-radius $corner-radius;
    }
}

// defeats the ugly hover effect of the calendar color dot on buttons
.calendar-color-image {
    -gtk-icon-filter: none;
}

// adds a subtle shadow to the calendar color dot when it makes sense
image.calendar-color-image,
button:active:not(:backdrop) .calendar-color-image,
button:checked:not(:backdrop) .calendar-color-image,
.calendars-list .calendar-color-image:not(:backdrop):not(:disabled),
.calendar-list .calendar-color-image:not(:backdrop):not(:disabled),
.sources-button:not(:backdrop):not(:disabled) .calendar-color-image {
    -gtk-icon-shadow: 0 1px gtkalpha(black, 0.1);
}

// Date chooser

// month/year controls
datechooser {
    padding: $space-size;

    .current-week {
        background-color: $bg-default; //reviewed&replaced
        color: #ff0038; //$text;
        border-radius: $corner-radius;
    }

    navigator {
        // add some space between the two controls
        margin-right: $space-size;
        margin-left: $space-size;
        margin-bottom: $space-size;
    }

    navigator {
        label {
            font-weight: bold;
        }

        button.flat,
        button.image-button {
            min-height: $medium-size;
            min-width: $medium-size;
            padding: 0;
        }
    }

    // day names and week numbers
    .weeknum,
    .weekday {
        color: $text-disabled;
        font-size: smaller;
    }

    // days
    button.day {
        font-size: 10pt;
        font-weight: normal;
        margin: $space-size / 2;
        padding: 0;
        min-height: $medium-size;
        min-width: $medium-size;
        transition: none;

        dot {
            background-color: $text;
            border-radius: 50%;
            min-height: $space-size / 2;
            min-width: $space-size / 2;
        }

        &:selected,
        &.today:selected {
            background-color: $accent-default; //reviewed&replaced
            color: $text;
            font-weight: bold;

            dot {
                background-color: on($accent-default);
            }
        }

        &.today {
            color: $accent-default;

            dot {
                background-color: $accent-default;
            }
        }

        &.other-month {
            &:not(:hover),
            &:backdrop {
                color: $text-secondary-disabled;

                dot {
                    background-color: $text-secondary-disabled;
                }
            }

            &:hover:not(:backdrop) {
                color: $text-disabled;

                dot {
                    background-color: $text-disabled;
                }
            }
        }
    }
}

// Week View CSS
.week-header {
    padding: 0;

    & > box:first-child {
        border-bottom: 1px solid $border;
    }

    .week-number {
        font-size: 16pt;
        font-weight: bold;
        padding: $space-size * 2 $space-size * 2 $space-size * 3 $space-size * 2;
        color: #ff0089; //$track;
    }

    &.week-temperature {
        font-size: 10pt;
        font-weight: bold;
        color: $text-disabled;
    }

    &.lines {
        color: $border; //reviewed&replaced
    }
}

weekhourbar > label {
    font-size: 10pt;
    padding: 4px $space-size;
}

.week-view .lines {
    color: $border; //reviewed&replaced
}

weekgrid > widget.now-strip {
    background-color: $accent-dark; //reviewed&replaced
    margin: 0 0 0 1px;
    min-height: 3px;
}

weekgrid,
.week-header {
    &:selected,
    &.dnd {
        background-color: rgba($accent-light, 0.2); //reviewed&replaced
    }
}

// Month cell
monthcell {
    border: solid 1px $border;
    border-width: 1px 0 0 1px;
    background-color: transparent;
    transition: background-color 200ms;

    &:hover:not(.out-of-month):not(.today) {
        background-color: $bg-light; //reviewed&replaced
        transition: background-color 200ms;
        color: $text;
    }

    &:selected {
        background-color: rgba($accent-light, 0.2); //reviewed&replaced

        &:hover {
            background-color: rgba($accent-dark, 0.2); //reviewed&replaced
        }

        label.day-label {
            font-weight: bold;
        }
    }

    &:nth-child(7n + 1) {
        border-left-width: 0;
    }

    &.today {
        background-color: gtkalpha($accent-default, 0.2); //reviewed&replaced

        &:hover {
            background-color: gtkalpha($accent-dark, 0.3); //reviewed&replaced
            color: $accent-default;
        }

        &:selected {
            background-color: #ff007E; //gtkalpha($accent-default, 0.25);

            &:hover {
                background-color: #ff007D; //gtkalpha($accent-default, 0.35);
            }
        }
    }

    label {
        color: $text;
        font-size: 0.9rem;

        &.day-label {
            font-size: 1rem;
        }
    }

    &.out-of-month {
        background-color: $bg-default-inactive; //reviewed&replaced

        label {
            color: $text-secondary;
        }
    }

    button {
        padding: 0 $space-size;
        border-radius: 0;
        border-bottom: none;
        border-right: none;
    }
}

// Month popover
monthpopover > box {
    margin: 0;
    padding: 0;
    background-color: transparent;
}

.notes-section box > textview {
    border-radius: $corner-radius;
    padding: $space-size;

    > text {
        background: none;
    }
}

// Agenda View CSS
agenda-view list.background {
    @extend %sidebar_style;
    
    > row {
        padding: 2px $space-size * 2;
    }

    > label {
        padding: $space-size $space-size * 2;
    }
}

label.no-events {
    font-style: italic;
}

// Search

searchbutton > popover > arrow {
    background: none;
    border: none;
}

menubutton stack > box {
    border-spacing: $space-size;
}

//
// Gnome Tweaks
//

#TweakPreferencesPage label.dim-label {
    color: $text-secondary-disabled;
}

.tweak-titlebar-left {
    @extend %sidebar_style;
    
    box-shadow: inset 0 1px highlight($bg-default);
    border-top-left-radius: $window-radius;

    &:backdrop {
        @extend %sidebar_style;
        
        box-shadow: inset 0 1px highlight($bg-default);
        border-top-left-radius: $window-radius;
    }
}

leaflet.unfolded {
    > box > scrolledwindow {
        @extend %sidebar_style;

        > scrollbar {
            @extend %sidebar_scrollbar;
            @extend %round_scrollbar;
        }
    }
}

//
// Contacts
//

leaflet.unfolded .contacts-contact-list {
    > scrolledwindow {
        @extend %sidebar_style;

        > scrollbar {
            @extend %sidebar_scrollbar;
            @extend %round_scrollbar;
        }

        > viewport > .navigation-sidebar {
            @extend %sidebar_list;
        }
    }
}

.sidebar-pane toolbarview > stack > box > widget > widget {
    > scrolledwindow {
        @extend %sidebar_style;

        .dim-label {
            color: #ff007B; //on($indicator, disabled);
        }

        > scrollbar {
            @extend %sidebar_scrollbar;
            @extend %round_scrollbar;
        }

        > .navigation-sidebar {
            @extend %sidebar_list;
        }
    }
}

//
// Gnome Software
//

.details-page {
    margin: $space-size * 4 0px;
}

.installed-overlay-box {
    font-size: smaller;
    background-color: $accent-default;
    border-radius: 0;
    color: #ff007A; //on($accent-default);
    text-shadow: 0 1px 0 rgba(black, 0.2);
}

screenshot-carousel box.frame {
    border-width: 1px 0;
    border-radius: 0;
}

screenshot-carousel button,
.featured-carousel button {
    margin: $space-size * 2;
}

carousel.card {
    border: none;
    background-color: #ff0077; //$fill;
}

.smaller {
    font-size: smaller;
}

.screenshot-image-main .image1,
.screenshot-image-main .image2 {
    margin-top: $space-size;
    margin-bottom: $space-size * 2;
    margin-left: $space-size;
    margin-right: $space-size;
}

.app-tile-label {
    font-size: 105%;
}

gs-summary-tile image.loading-icon {
    background-color: #ff0076; //$border;
    border-radius: $corner-radius;
}

.review-row > box {
    margin: $space-size * 2;
    border-spacing: $space-size / 2;
}

.review-row textview {
    background: none;
}

.review-row .edit-icon {
    min-width: 24px;
    min-height: 24px;
    padding: $space-size;
}

.review-textbox {
    padding: $space-size;
}

.origin-rounded-box {
    background-color: #ff0074; //$divider;
    border-radius: $circular_radius;
    padding: $space-size - 2px;
}

.origin-beta {
    color: #ff0075; //$warning;
}

.origin-button > button {
    padding: $space-size / 2 $space-size * 1.5;
}

clamp.medium .category-tile:not(.category-tile-iconless) {
    font-size: large;
}

clamp.large .category-tile:not(.category-tile-iconless) {
    font-size: larger;
}

flowboxchild.card:not(.category-tile) {
    padding: 0;
    box-shadow: none;
    border: none;
    background-color: transparent;
    background-image: none;
}

.category-tile.card {
    padding: $space-size * 3.5;
    border: none;
    border-radius: $corner-radius;
    min-width: 140px;
    font-weight: 900;
    font-size: larger;

    &:not(.category-tile-iconless) {
        &,
        &:active {
            transition: $transition;
            animation: none;
        }
    }

    &.category-tile-iconless {
        padding: $space-size * 1.5 $space-size * 2.5;
        min-width: 130px;
        font-size: 105%;
        font-weight: normal;
    }

    // Styling for specific category buttons.
    &.category-create {
        background: linear-gradient(180deg, **base1D** 0%, **base17** 100%);
        color: **base01**;

        &:hover {
            background: linear-gradient(
                180deg,
                shade(**base1D**, 1.07) 0%,
                shade(**base17**, 1.1) 100%
            );
            color: **base01**;
        }

        &:active {
            background: linear-gradient(
                180deg,
                shade(**base1D**, 0.95) 0%,
                shade(**base17**, 0.95) 100%
            );
            color: **base01**;
        }
    }

    &.category-develop {
        background-color: lighten(**base05**, 5%);
        color: **base01**;

        &:hover {
            background-color: shade(lighten(**base05**, 5%), 1.2);
            color: **base01**;
        }

        &:active {
            background-color: shade(lighten(**base05**, 5%), 0.95);
            color: **base01**;
        }
    }

    &.category-learn {
        background: linear-gradient(180deg, **base12** 30%, **base11** 100%);
        color: **base01**;

        &:hover {
            background: linear-gradient(
                180deg,
                shade(**base12**, 1.06) 30%,
                shade(**base11**, 1.06) 100%
            );
            color: **base01**;
        }

        &:active {
            background: linear-gradient(
                180deg,
                shade(**base12**, 0.95) 30%,
                shade(**base11**, 0.95) 100%
            );
            color: **base01**;
        }
    }

    &.category-play {
        background: linear-gradient(
            75deg,
            **base0F** 0%,
            **base1E** 50%,
            **base1B** 100%
        );
        color: #ff0070; //#393484;

        &:hover {
            background: linear-gradient(
                75deg,
                shade(**base0F**, 1.07) 0%,
                shade(**base1E**, 1.07) 50%,
                shade(**base1B**, 1.07) 100%
            );
            color: #ff0071; //#393484;
        }

        &:active {
            background: linear-gradient(
                75deg,
                shade(**base0F**, 0.97) 0%,
                shade(**base1E**, 0.95) 50%,
                shade(**base1B**, 1.07) 100%
            );
            color: #ff0072; //#393484;
        }
    }

    &.category-socialize {
        background: linear-gradient(90deg, **base1D** 0%, **base0C** 100%);
        color: $text-secondary;

        &:hover {
            background: linear-gradient(
                90deg,
                shade(**base1D**, 1.08) 0%,
                shade(**base0C**, 1.08) 100%
            );
        }

        &:active {
            background: linear-gradient(
                90deg,
                shade(**base1D**, 0.95) 0%,
                shade(**base0C**, 0.95) 100%
            );
        }
    }

    &.category-work {
        padding: 1px; /* FIXME: work around https://gitlab.gnome.org/GNOME/gtk/-/issues/4324 */
        color: #ff0000;
        background-color: **base01**;
        background-image: linear-gradient($border 1px, transparent 1px),
            linear-gradient(90deg, $border 1px, transparent 1px);
        background-size:
            10px 10px,
            10px 10px;
        background-position:
            -1px -4px,
            center -1px;
        background-repeat: repeat;

        &:hover {
            color: #ff0000;
            background-color: lighten(**base01**, 5%);
            background-image: linear-gradient($border 1px, transparent 1px),
                linear-gradient(90deg, $border 1px, transparent 1px);
        }

        &:active {
            color: #ff0000;
            background-color: #ff006D; //darken(**base01**, 5%);
            background-image: linear-gradient($border 1px, transparent 1px),
                linear-gradient(90deg, $border 1px, transparent 1px);
            background-size:
                10px 10px,
                10px 10px;
            background-position:
                -1px -4px,
                center -1px;
            background-repeat: repeat;
        }
    }
}

// The rest of the featured-tile CSS is loaded at runtime in gs-feature-tile.c
.featured-tile {
    padding: 0;
    box-shadow: none;
    color: $text;

    label.title-1 {
        margin-top: $space-size;
        margin-bottom: $space-size;
    }

    &.narrow label.title-1 {
        font-size: 16pt;
    }
}

.application-details-infobar {
    &,
    &.info {
        background-color: #ff006C; //$fill;
        color: $text;
        border: 1px solid $border;
    }

    &.warning {
        background-color: #ff006B; //$warning;
        color: #ff006A; //on($warning);
        border: 1px solid on($warning, divider);
    }
}

.card.info {
    background-color: mix($accent-default, $bg-default, 0.7);
    color: $text;
}

.card.warning {
    background-color: mix($yellow-default, $bg-default, 0.7);
    color: $text;
}

.infobox {
    border-spacing: $space-size;
    padding: $space-size * 2;
}

@keyframes install-progress-unknown-move {
    0% {
        background-position: 0%;
    }
    50% {
        background-position: 100%;
    }
    100% {
        background-position: 0%;
    }
}

.application-details-description .button {
    padding-left: $space-size * 4;
    padding-right: $space-size * 4;
}

.install-progress {
    background-image: linear-gradient(
        to top,
        $accent-default 2px,
        gtkalpha($accent-default, 0) 2px
    );
    background-repeat: no-repeat;
    background-position: 0 bottom;
    background-size: 0;
    transition: none;
}

.install-progress:dir(rtl) {
    background-position: 100% bottom;
}

.review-row > * {
    margin: $space-size * 2;
}

.review-row button {
    font-size: smaller;
}

.review-row .vote-buttons button {
    margin-right: -1px;
}

// this is the separator between yes and no vote buttons, gtk+ 3.20 only
.review-row .vote-buttons button:not(:first-child) {
    border-image: linear-gradient(to top, $border, $border) 0 0 0 1 / 5px 0 5px
        1px;
}

.review-row .vote-buttons button:hover,
.review-row .vote-buttons button:active,
.review-row .vote-buttons button:hover + button,
.review-row .vote-buttons button:active + button {
    border-image: none;
}

review-bar {
    color: $text-disabled;
    background-image: none;
    background-color: #ff0067; //$track;
}

.review-histogram star-image {
    color: $text-disabled;
}

.version-arrow-label {
    font-size: x-small;
}

.overview-more-button {
    font-size: smaller;
    padding: 0 $space-size * 2 + 4px;
}

.app-row-origin-text {
    font-size: smaller;
}

.app-listbox-header {
    padding: $space-size;
    border-bottom: 1px solid $border;
}

.image-list {
    background-color: transparent;
}

box.star {
    background-color: transparent;
    background-image: none;
}

button.star {
    outline-offset: 0;
    background-color: transparent;
    background-image: none;
    border-image: none;
    border-radius: 0;
    border-width: 0;
    padding: 0;
    box-shadow: none;
    outline-offset: -1px;
}

// I have no idea why GTK adds padding here
flowboxchild {
    padding: 0px;
}

star-image > image.starred {
    color: #ff0066; //$yellow-dark;
    transition-duration: 200ms;
}

star-image > image.starred:hover {
    color: #ff0065; //$yellow-light;
}

star-image > image.non-starred {
    opacity: 0.2;
    transition-duration: 200ms;
}

star-image > image.non-starred:hover {
    color: #ff0064; //$yellow-dark;
    opacity: 0.7;
}

.dimmer-label {
    opacity: 0.25;
}

.update-failed-details {
    font-family: Monospace;
    font-size: smaller;
    padding: $space-size * 2 + 4px;
}

.upgrade-banner {
    padding: 0px;
    border-radius: $corner-radius;
    border: none;
}

.upgrade-banner-background {
    background: #ff0063; //linear-gradient(to bottom, $green-light, $blue-light);
    color: #ff0062; //**base01**;
}

.upgrade-buttons #button_upgrades_install,
.upgrade-buttons #button_upgrades_install_cancel {
    padding-left: $space-size * 2 + 4px;
    padding-right: $space-size * 2 + 4px;
}

scrolledwindow.list-page > viewport > clamp > box {
    margin: $space-size * 4 $space-size * 2;
    border-spacing: $space-size * 4;
}

.update-preferences preferencesgroup > box > box {
    margin-top: $space-size * 3;
}

.section > label:not(:first-child) {
    margin-top: $space-size;
}

.section > box:not(:first-child) {
    margin-top: $space-size * 2;
}

clamp.status-page {
    margin: $space-size * 6 $space-size * 2;
}

clamp.status-page .iconbox {
    min-height: 128px;
    min-width: 128px;
}

clamp.status-page .icon {
    color: $text-disabled;
    min-height: 32px;
    min-width: 32px;
}

clamp.status-page .icon:not(:last-child) {
    margin-bottom: $space-size * 6;
}

clamp.status-page .title:not(:last-child) {
    margin-bottom: $space-size * 2;
}

app-context-bar {
    .context-tile {
        border: 1px solid $border;
        background-color: transparent;
        border-radius: 0;
        padding: $space-size * 4 $space-size * 2 $space-size * 3.5 $space-size *
            2;
        outline-offset: 5px;
        transition-property: outline, outline-offset, background-image;
        border-bottom: none;
        border-right: none;

        &:hover {
            background-image: none;
            background-color: #ff0061; //$overlay-hover;
        }

        &.keyboard-activating,
        &:active {
            background-color: #ff0060; //$overlay-active;
        }

        &:focus:focus-visible {
            outline-offset: -1px;
        }
    }

    &.horizontal box:first-child .context-tile:first-child,
    &.vertical .context-tile:first-child {
        border-left: none;
    }

    &.horizontal .context-tile,
    &.vertical box:first-child .context-tile {
        border-top: none;
    }

    > box:not(:first-child) > button.flat {
        border-radius: 0;

        &:last-child {
            border-radius: 0 $corner-radius $corner-radius 0;
        }
    }

    > box:first-child > button.flat {
        border-radius: 0;

        &:first-child {
            border-radius: $corner-radius 0 0 $corner-radius;
        }
    }

    > box > button.flat {
        border-left-color: $border;
    }
}

.context-tile-lozenge {
    min-height: 28px;
    min-width: 28px;
    padding: $space-size;
    font-size: 18px;
    font-weight: bold;
    border-radius: $circular_radius;

    &.large {
        font-size: 24px;
        padding: 16px;
        min-width: 24px; /* 60px minus the left and right padding */
        min-height: 24px; /* 60px minus the top and bottom padding */
    }

    &.wide-image image {
        margin-top: -28px;
        margin-bottom: -28px;
    }

    image {
        -gtk-icon-style: symbolic;
    }

    &.grey {
        color: $text;
        background-color: #ff005F; //$divider;
    }

    &.green,
    &.details-rating-0 {
        color: #ff005E; //darken($success, 15%);
        background-color: #ff005D; //rgba($success, 0.15);
    }

    &.blue,
    &.details-rating-5 {
        color: #ff005C; //$blue-light;
        background-color: #ff005B; //rgba($blue-light, 0.15);
    }

    &.yellow,
    &.details-rating-12 {
        color: #ff005A; //darken($warning, 15%);
        background-color: #ff0059; //rgba($warning, 0.15);
    }

    &.details-rating-15 {
        color: #ff0058; //$orange-light;
        background-color: #ff0057; //rgba($orange-light, 0.15);
    }

    &.red,
    &.details-rating-18 {
        color: #ff0056; //darken($error, 15%);
        background-color: #ff0055; //rgba($error, 0.15);
    }
}

.eol-red {
    font-weight: bold;
    color: #ff0054; //$error;
}

window.narrow .app-title {
    font-size: 16pt;
}

window.narrow .app-developer {
    font-size: small;
}

.install-progress-label {
    font-size: smaller;
    font-feature-settings: 'tnum';
}

scrolledwindow.fake-adw-status-page > viewport > box {
    margin: $space-size * 6 $space-size * 2;
}
scrolledwindow.fake-adw-status-page
    > viewport
    > box
    > clamp:not(:last-child)
    > box {
    margin-bottom: $space-size * 6;
}
scrolledwindow.fake-adw-status-page
    > viewport
    > box
    > clamp
    > box
    > .icon:not(:last-child) {
    margin-bottom: $space-size * 6;
}
scrolledwindow.fake-adw-status-page
    > viewport
    > box
    > clamp
    > box
    > .title:not(:last-child) {
    margin-bottom: $space-size * 2;
}

statuspage.icon-dropshadow image.icon {
    -gtk-icon-shadow:
        0 1px 12px rgba(0, 0, 0, 0.05),
        0 -1px rgba(0, 0, 0, 0.05),
        1px 0 rgba(0, 0, 0, 0.1),
        0 1px rgba(0, 0, 0, 0.3),
        -1px 0 rgba(0, 0, 0, 0.1);
}

window.info scrollbar.vertical {
    margin-top: 48px;
    background: none;
    box-shadow: none;
}

window.info scrollbar.vertical trough {
    margin-top: 0;
}

// GsAppRow
row.app > box.header {
    margin-left: $space-size * 2;
    margin-right: $space-size * 2;
}

row.app > box.header {
    border-spacing: $space-size * 2;
}

row.app > box.header > image {
    margin-top: $space-size * 2;
    margin-bottom: $space-size * 2;
}

row.app label.warning {
    color: #ff0053; //$error;
}

// GtkSpinner

// Ensure the spinner is hidden before the animation is triggered.
@keyframes pre-delay {
    from {
        opacity: 0;
    }
    to {
        opacity: 0;
    }
}

@keyframes fade-in {
    from {
        filter: opacity(0%);
    }
}

/* Give a fade-in animation to spinners. */
spinner.fade-in:checked {
    animation:
        pre-delay 0.5s linear 1,
        fade-in 1s linear 1,
        spin 1s linear infinite;
    animation-delay: 0s, 0.5s, 0.5s;
}

// Leaflets
window > contents > leaflet {
    // Gnome control center
    > box > stack.background {
        background-color: transparent;
        background-image: linear-gradient(
            to bottom,
            transparent,
            transparent $large-size,
            $bg-default $large-size,
            $bg-default
        );
    }
}

//
// Gnome Weather
//

@define-color weather_temp_chart_fill_color rgba($orange-light, 0.5); //reviewed&replaced
@define-color weather_temp_chart_stroke_color $orange-dark; //reviewed&replaced
@define-color weather_thermometer_warm_color $yellow-default; //reviewed&replaced
@define-color weather_thermometer_cold_color $blue-default; //reviewed&replaced


#places-label {
    font-weight: bold;
}

#temperature-label {
    font-size: 32pt;
    font-weight: 900;
    margin-left: 9px;
}

#conditions-grid *:backdrop {
    color: $text-secondary; //reviewed&replaced
}

.content-view.cell {
    font-weight: bold;
}

#locationEntry {
    margin: $space-size;
}

.weather-popover {
    margin-top: $space-size;
}

.forecast-card {
    transition: border-radius 100ms ease-out;
    border-radius: $corner-radius;
}

.forecast-card separator {
    background-color: $border; //reviewed&replaced
}

#daily-forecast-box {
    > separator:last-child {
        background-color: transparent;
        min-width: 0;
    }
}

#conditions-grid,
#attributionGrid {
    margin-left: $space-size * 3;
    margin-right: $space-size * 3;
}

#weather-page .small .forecast-card {
    margin-left: 0;
    margin-right: 0;
    border-radius: 0;
    border-width: 1px 0;
}

.forecast-temperature-label {
    font-weight: bold;
    color: $fg-dark-alt; //reviewed&replaced
}

WeatherThermometer {
    margin-bottom: $space-size * 2;
}

WeatherThermometer > label.high {
    font-weight: bold;
    color: $yellow-default; //reviewed&replaced
}

WeatherThermometer > label.low {
    font-weight: bold;
    color: $blue-default; //reviewed&replaced
}

.forecast-button {
    margin: 0 $space-size * 2;
}

.forecast-graphic {
    margin: $space-size * 3;
}

button.osd.circular {
    border-radius: $circular_radius;
    min-width: $small-size;
    min-height: $small-size;
}

button.osd.circular > image {
    padding: 0;
}

scrolledwindow.inline list,
scrolledwindow.inline listview {
    background: none;
    color: inherit;
}

scrolledwindow.inline undershoot.top {
    box-shadow: inset 0 1px $border;
}

.search-view {
    background-color: #ff004A; //$blue-dark;
    color: #ff004B; //on($blue-dark);
}

.search-view menubutton button:focus:focus-visible {
    outline-color: rgba(white, 0.3);
}

image.circular {
    min-width: $medium-size;
    min-height: $medium-size;
    padding: 0;
    border-radius: $circular_radius;
}

// WeatherThermometerScale {
//   border-radius: $circular_radius;
//   background-image: linear-gradient(to bottom, $weather_thermometer_warm_color, $weather_thermometer_cold_color);
//   margin: 0 36px;
//   padding: 0;
// }

//
// Gnome System Monitor
//
#gnome-system-monitor.background.csd {
    background-color: $bg-default; //reviewed&replaced
}

#gnome-system-monitor treeview.view {
    background-color: $bg-default; //reviewed&replaced
    padding: 4px;
    border-radius: 0px; //reviewed&replaced
    border-top: solid 1px $border; //reviewed&replaced
    border-bottom: solid 1px $border; //reviewed&replaced
    border-left: solid 0.4px $border-light; //reviewed&replaced
    border-right: solid 0.4px $border-light; //reviewed&replaced
}

// popup - click on process
#gnome-system-monitor revealer>box {
    background-color: $bg-dark; //reviewed&replaced
}

//
// Gnome Clocks
//

.large-button {
    padding: $space-size;
}

// alarms
.alarm-time {
    font-size: 2.5em;
    font-weight: 300;
}

.clocks-ampm-toggle-button,
.clocks-secondary-standalone-label {
    font-size: 18pt;
}

.clocks-standalone-label,
.clocks-ringing-label {
    font-size: 6em;
    font-weight: 300;
}

.clocks-ringing-title {
    font-size: 1.5em;
    font-weight: bold;
}

.clocks-alarm-setup-time {
    font-size: 32pt;
}

// Timer Panel
.clocks-timer-label,
.clocks-spinbutton {
    font-size: 48pt;
}

// disguise insensitive spinbuttons as normal labels
.timer-panel .timer-header {
    font-size: 20pt;
    font-weight: 300;
}

.timer-countdown {
    font-size: 40pt;
    font-weight: 300;
}

/* Stopwatch Panel */
.lap-time {
    font-weight: bold;
}

.stopped-stopwatch label,
.running-stopwatch label,
.paused-stopwatch label {
    font-size: 70px;
    font-weight: lighter;
}

.stopped-stopwatch .seconds-label {
    font-weight: 300;
}

.running-stopwatch .seconds-label,
.running-stopwatch .miliseconds-label {
    color: $accent-dark; //reviewed&replaced
}

.stopped-stopwatch .miliseconds-label,
.running-stopwatch .miliseconds-label,
.paused-stopwatch .miliseconds-label {
    font-size: 50px;
}

.running-stopwatch .seconds-label,
.paused-stopwatch .seconds-label {
    font-weight: 300;
}

// World
.clock-location {
    font-weight: bolder;
}

.hidden {
    opacity: 0;
}

.clock-time {
    font-size: 2em;
    padding: 0.2em 0.5em;
    border-radius: 1em;
}

.none .clock-time {
    background:  #ff0047; //gtkalpha(currentColor, 0.2);
}

.night .clock-time {
    color:  #ff0046; //$blue-dark;
    background-color:  #ff0045; //gtkalpha($blue-light, 0.25);
}

.naut .clock-time,
.astro .clock-time {
    color:  #ff0044; //$orange-dark;
    background-color:  #ff0043; //gtkalpha($orange-light, 0.25);
}

.civil .clock-time,
.day .clock-time {
    color:  #ff0042; //$yellow-dark;
    background:  #ff0041; //gtkalpha($yellow-light, 0.25);
}

//
// Builder
//

headerbar splitbutton {
    notification button {
        margin: 0;
        min-height: $small-size;
        min-width: $small-size;
        padding: 0;
    }
}

popover.background.global-search {
    > arrow,
    > contents {
        padding: 0;
    }
}

panelframeswitcher {
    padding: $space-size / 2;
}

.frameheader.header {
    min-height: $small-size;
    background-color: #ff0040; //$base-alt;

    > button {
        border: none;
        margin: 0;
        padding: $space-size / 2;
    }

    tabbar.inline {
        > revealer > box {
            min-height: $small-size;

            .start-action {
                padding: 0;
                border: none;
            }

            .end-action {
                padding: 0;
                border-left: 1px solid $border;
            }

            tabbox {
                border: none;
                background: none;
            }
        }
    }
}

panelstatusbar {
    > menubutton > button,
    > paneltogglebutton button {
        border-radius: 0;
    }
}

// Setting window
.style-variant {
    padding: 0 $space-size * 2;

    button.toggle {
        padding: 0;

        &,
        &:hover,
        &:focus,
        &:active,
        &:checked {
            background: none;
            outline: none;
            border: none;
            box-shadow: none;
        }

        > stylevariantpreview > .wallpaper {
            border-radius: $corner-radius;
            outline-color: transparent;
            outline-width: 3px;
            outline-offset: $space-size / 2;
            outline-style: solid;
            box-shadow: none;
        }

        &:hover > stylevariantpreview > .wallpaper {
            outline-color: $fill;
        }

        &:active > stylevariantpreview > .wallpaper {
            outline-color: $track;
        }

        &:checked > stylevariantpreview > .wallpaper {
            outline-color: $accent-default;
        }
    }
}

//
// Amberol
//

playlistview {
    scrollbar {
        &.overlay-indicator {
            &.dragging,
            &.hovering {
                background-color: transparent;
            }
        }
    }

    queuerow {
        picture.cover,
        image.card {
            border: none;
        }
    }
}

//
// dialogs
//

window.dialog {
    > .dialog-vbox > box > scrolledwindow > viewport > widget {
        > list.boxed-list {
            border: none;
            border-radius: 0;

            > row {
                &:first-child,
                &:last-child {
                    border-radius: 0;
                }
            }
        }
    }
}
